(()=>{var e={};e.id=423,e.ids=[423],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},8855:e=>{"use strict";e.exports=import("@libsql/client")},5138:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{patchFetch:()=>d,routeModule:()=>l,serverHooks:()=>m,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>p});var a=r(2706),n=r(8203),u=r(5994),i=r(8819),o=e([i]);i=(o.then?(await o)():o)[0];let l=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/user/route",pathname:"/api/user",filename:"route",bundlePath:"app/api/user/route"},resolvedPagePath:"C:\\Users\\HP\\Downloads\\Content-Creator-Apps-main\\app\\api\\user\\route.ts",nextConfigOutput:"",userland:i}),{workAsyncStorage:c,workUnitAsyncStorage:p,serverHooks:m}=l;function d(){return(0,u.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:p})}s()}catch(e){s(e)}})},6487:()=>{},8335:()=>{},8819:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{GET:()=>l});var a=r(9187),n=r(8101),u=r(5710),i=r(7579),o=r(4512),d=e([n]);async function l(e){let t=await (0,o.UL)(),r=t.get("userId")?.value;if(!r)return a.NextResponse.json({message:"Unauthorized"},{status:401});let s=await n.db.select().from(u.users).where((0,i.eq)(u.users.id,r)).get();if(!s)return a.NextResponse.json({message:"User not found"},{status:401});let{password:d,...l}=s;return a.NextResponse.json(l)}n=(d.then?(await d)():d)[0],s()}catch(e){s(e)}})},8101:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{db:()=>d});var a=r(246),n=r(8855),u=r(5710),i=e([n,a]);[n,a]=i.then?(await i)():i;let o=(0,n.createClient)({url:"file:sqlite.db"}),d=(0,a.f)(o,{schema:u});s()}catch(e){s(e)}})},5710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{insertMediaSchema:()=>m,insertScheduledPostSchema:()=>c,insertUserSchema:()=>d,media:()=>p,scheduledPosts:()=>l,users:()=>o});var s=r(7081),a=r(1300),n=r(3161),u=r(7095),i=r(7321);let o=(0,a.D)("users",{id:(0,n.Qq)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),username:(0,n.Qq)("username").notNull().unique(),password:(0,n.Qq)("password").notNull(),nim:(0,n.Qq)("nim").notNull(),major:(0,n.Qq)("major").notNull()}),d=(0,i.r)(o).omit({id:!0}),l=(0,a.D)("scheduled_posts",{id:(0,n.Qq)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:(0,n.Qq)("user_id").notNull().references(()=>o.id,{onDelete:"cascade"}),title:(0,n.Qq)("title").notNull(),platform:(0,n.Qq)("platform").notNull(),type:(0,n.Qq)("type").notNull(),status:(0,n.Qq)("status").notNull().default("Planning"),scheduledDate:(0,u.nd)("scheduled_date",{mode:"timestamp"}).notNull(),createdAt:(0,u.nd)("created_at",{mode:"timestamp"}).notNull().default((0,s.ll)`CURRENT_TIMESTAMP`)}),c=(0,i.r)(l).omit({id:!0,createdAt:!0}),p=(0,a.D)("media",{id:(0,n.Qq)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:(0,n.Qq)("user_id").notNull().references(()=>o.id,{onDelete:"cascade"}),url:(0,n.Qq)("url").notNull(),createdAt:(0,u.nd)("created_at",{mode:"timestamp"}).notNull().default((0,s.ll)`CURRENT_TIMESTAMP`)}),m=(0,i.r)(p).omit({id:!0,createdAt:!0})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[681,341,906],()=>r(5138));module.exports=s})();